{"mappings":"AAAO,SAASA,GAAcC,cAC5BA,EAAaC,aACbA,EAAYC,KACZA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,IAEA,MAAgB,8CAEHN,iDACGC,WAAsBC,kGAGCC,iDACAC,oDACGC,qDACCC,kCClBtC,MAAMC,EAAO,CAClBC,WAAYC,SAASC,cAAc,gBACnCC,QAASF,SAASC,cAAc,YAChCE,kBAAmBH,SAASC,cAAc,yBCOtCG,EAAiB,ICHR,MAMbC,gBACE,OAAOC,MACL,qEAAwBC,KAAKC,wFAA6BD,KAAKE,QAE9DC,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJN,KAAKO,gBAEED,EAAKE,QAIlBD,gBACEP,KAAKE,MAAQ,EAGfO,YACET,KAAKE,KAAO,EAGVQ,YACF,OAAOV,KAAKC,YAGVS,UAAMC,GACRX,KAAKC,YAAcU,EA9BrBC,cACEZ,KAAKC,YAAc,GACnBD,KAAKE,KAAO,IDCVW,EAAc,IEXL,MASbC,QAAQC,GACN,MAAMC,EAAO,GAIb,OAHAA,EAAKC,OAASxB,SAASC,cAAcqB,GACrCC,EAAKE,MAAQF,EAAKC,OAAOvB,cAAc,UAEhCsB,EAGTG,SACEnB,KAAKgB,KAAKC,OAAOG,UAAW,EAC5BpB,KAAKgB,KAAKE,MAAMG,YAAc,YAGhCC,UACEtB,KAAKgB,KAAKC,OAAOG,UAAW,EAC5BpB,KAAKgB,KAAKE,MAAMG,YAAc,aAGhCE,OACEvB,KAAKgB,KAAKC,OAAOO,UAAUC,OAAO,aAGpCC,OACE1B,KAAKgB,KAAKC,OAAOO,UAAUG,IAAI,aA/BjCf,aAAYG,SAAEA,EAAQa,OAAEA,GAAS,IAC/B5B,KAAKgB,KAAOhB,KAAKc,QAAQC,GAErBa,GACF5B,KAAK0B,SFMyB,CAClCX,SAAU,4BACVa,QAAQ,IAsBV,SAASC,IACPhB,EAAYS,UACZzB,EAAeC,gBAAgBK,MAAK2B,KAMtC,SAA0BA,GACxB,MAAMC,EAASD,EAASE,KAAIC,GAAQlD,EAAckD,KAAOC,KAAK,IAC9D3C,EAAKI,QAAQwC,mBAAmB,YAAaJ,GAP3CK,CAAiBN,GACjBjB,EAAYM,YAvBhB5B,EAAKC,WAAW6C,iBAAiB,UAGjC,SAAkBC,GAKhB,GAJAA,EAAEC,iBAEF1C,EAAea,MAAQ4B,EAAEE,cAAcC,SAASxC,YAAYyC,MAE/B,KAAzB7C,EAAea,MAEjB,YADAiC,MAAM,aAIR9B,EAAYU,OACZ1B,EAAeY,YAmBflB,EAAKI,QAAQiD,UAAY,GAjBzBf,OAfFhB,EAAYG,KAAKC,OAAOoB,iBAAiB,QAASR","sources":["src/js/markup-template.js","src/js/refs.js","src/js/main.js","src/js/news-service.js","src/js/load-more-btn.js"],"sourcesContent":["export function cardsTemplate({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return /*html*/ `\n  <div class=\"photo-card\">\n    <a href=\"${largeImageURL}\" class=\"photo-card__item\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    </a>\n    <div class=\"info\">\n      <p class=\"info-item\"><b>Likes</b>${likes}</p>\n      <p class=\"info-item\"><b>Views</b>${views}</p>\n      <p class=\"info-item\"><b>Comments</b>${comments}</p>\n      <p class=\"info-item\"><b>Downloads</b>${downloads}</p>\n    </div>\n  </div>\n  `;\n}\n","export const refs = {\n  searchForm: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n  endCollectionText: document.querySelector('.end-collection-text'),\n};\n","import NewsApiService from './news-service';\nimport { cardsTemplate } from './markup-template';\nimport LoadMoreBtn from './load-more-btn';\nimport { refs } from './refs';\n// import { Notify } from 'notiflix';\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// import throttle from 'lodash.throttle';\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst newsApiService = new NewsApiService();\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: '[data-action=\"load-more\"]',\n  hidden: true,\n});\n\nrefs.searchForm.addEventListener('submit', onSearch);\nloadMoreBtn.refs.button.addEventListener('click', fetchArticles);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiService.query = e.currentTarget.elements.searchQuery.value;\n\n  if (newsApiService.query === '') {\n    alert('Normalnoe');\n    return;\n  }\n\n  loadMoreBtn.show();\n  newsApiService.resetPage();\n  clearArticlesContainer();\n  fetchArticles();\n}\n\nfunction fetchArticles() {\n  loadMoreBtn.disable();\n  newsApiService.fetchArticles().then(articles => {\n    appendHitsMarkup(articles);\n    loadMoreBtn.enable();\n  });\n}\n\nfunction appendHitsMarkup(articles) {\n  const markup = articles.map(item => cardsTemplate(item)).join('');\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearArticlesContainer() {\n  refs.gallery.innerHTML = '';\n}\n","// import axios from 'axios';\n\nconst API_KEY = '?key=11240134-58b8f655e9e0f8ae8b6e8e7de&q=';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst BASE_OPTIONS =\n  '&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=';\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    return fetch(\n      `${BASE_URL}${API_KEY}${this.searchQuery}${BASE_OPTIONS}${this.page}`\n    )\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n\n        return data.hits;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n\n// export default async function fetchImages(value, page) {\n// const url = 'https://pixabay.com/api/';\n// const key = '11240134-58b8f655e9e0f8ae8b6e8e7de';\n// const filter = `?key=${key}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${page}`;\n\n//   return await axios.get(`${url}${filter}`).then(response => response.data);\n// }\n","export default class loadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    this.refs = this.getRefs(selector);\n\n    if (hidden) {\n      this.hide();\n    }\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = refs.button.querySelector('.label');\n\n    return refs;\n  }\n\n  enable() {\n    this.refs.button.disabled = false;\n    this.refs.label.textContent = 'Load more';\n  }\n\n  disable() {\n    this.refs.button.disabled = true;\n    this.refs.label.textContent = 'Loading...';\n  }\n\n  show() {\n    this.refs.button.classList.remove('is-hidden');\n  }\n\n  hide() {\n    this.refs.button.classList.add('is-hidden');\n  }\n}\n"],"names":["$995f92ca5beb90a3$export$e777a2f48ca5a1bf","largeImageURL","webformatURL","tags","likes","views","comments","downloads","$ee27a4d7c64fc8c4$export$21666b427502ea6d","searchForm","document","querySelector","gallery","endCollectionText","$d706c914d748cb55$var$newsApiService","fetchArticles","fetch","this","searchQuery","page","then","r","json","data","incrementPage","hits","resetPage","query","newQuery","constructor","$d706c914d748cb55$var$loadMoreBtn","getRefs","selector","refs","button","label","enable","disabled","textContent","disable","show","classList","remove","hide","add","hidden","$d706c914d748cb55$var$fetchArticles","articles","markup","map","item","join","insertAdjacentHTML","$d706c914d748cb55$var$appendHitsMarkup","addEventListener","e","preventDefault","currentTarget","elements","value","alert","innerHTML"],"version":3,"file":"index.cd6d582d.js.map"}